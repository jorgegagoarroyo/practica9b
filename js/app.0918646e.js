(function(){"use strict";var o={952:function(o,r,a){var i=a(963),s=a(252);const t={id:"app",class:"container"},e=(0,s._)("div",{class:"row"},[(0,s._)("div",{class:"col-md-12 mt-2"},[(0,s._)("h1",null,"Usuarios")])],-1),n={class:"row"},u={class:"col-md-12"},l={class:"row"},c={class:"col-md-12"};function d(o,r,a,i,d,m){const h=(0,s.up)("formulario-usuario"),p=(0,s.up)("tabla-usuarios");return(0,s.wg)(),(0,s.iD)("div",t,[e,(0,s._)("div",n,[(0,s._)("div",u,[(0,s.Wm)(h,{onCrearUsuario:m.postUsuario},null,8,["onCrearUsuario"])])]),(0,s._)("div",l,[(0,s._)("div",c,[(0,s.Wm)(p,{usuarios:d.usuarios,onEliminarUsuario:m.deleteUsuario,onActualizarUsuario:m.putUsuario},null,8,["usuarios","onEliminarUsuario","onActualizarUsuario"])])])])}var m=a(577);const h={id:"tabla-usuarios"},p={key:0,class:"alert alert-info",role:"alert"},v={class:"table"},f=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",null,"Nombre"),(0,s._)("th",null,"Email"),(0,s._)("th",null,"Acciones")])],-1),b={key:0},_=["onClick"],g=["onClick"],y={key:1},w=["onClick"],U=["onClick"];function E(o,r,a,i,t,e){return(0,s.wg)(),(0,s.iD)("div",h,[a.usuarios.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",p," No existen usuarios ")),(0,s._)("table",v,[f,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.usuarios,(r=>((0,s.wg)(),(0,s.iD)("tr",{key:r.id},[(0,s._)("td",null,(0,m.zw)(r.name),1),(0,s._)("td",null,(0,m.zw)(r.email),1),t.editando===r.id?((0,s.wg)(),(0,s.iD)("td",b,[(0,s._)("button",{class:"btn btn-success",onClick:o=>e.guardarUsuario(r)},"💾 Guardar",8,_),(0,s._)("button",{class:"btn btn-secondary ml-2",onClick:o=>e.cancelarEdicion(r)},"❌ Cancelar",8,g)])):((0,s.wg)(),(0,s.iD)("td",y,[(0,s._)("button",{class:"btn btn-info",onClick:o=>e.editarUsuario(r)},"✏️ Editar",8,w),(0,s._)("button",{class:"btn btn-danger ml-2",onClick:a=>o.$emit("eliminar-usuario",r)},"🗑️ Eliminar",8,U)]))])))),128))])])])}var k={name:"tabla-usuarios",data(){return{editando:null}},props:{usuarios:Array},methods:{editarUsuario(o){this.usuarioEditado=Object.assign({},o),this.editando=o.id},guardarUsuario(o){o.name.length&&o.mail.length&&(this.$emit("actualizar-usuario",o),this.editando=null)},cancelarEdicion(o){Object.assign(o,this.usuarioEditado),this.editando=null}}},j=a(744);const C=(0,j.Z)(k,[["render",E]]);var O=C;const D={id:"formulario-usuario"},F={class:"container"},T={class:"row"},x={class:"col-md-4"},I={class:"form-group"},$=(0,s._)("label",null,"Nombre",-1),z={class:"col-md-4"},A={class:"form-group"},N=(0,s._)("label",null,"Email",-1),P=(0,s._)("div",{class:"row"},[(0,s._)("div",{class:"col-md-4"},[(0,s._)("div",{class:"form-group"},[(0,s._)("button",{class:"btn btn-primary"},"Añadir usuario")])])],-1),S={class:"container"},q={class:"row"},Z={class:"col-md-12"},J={key:0,class:"alert alert-danger",role:"alert"},K={key:1,class:"alert alert-success",role:"alert"};function V(o,r,a,t,e,n){return(0,s.wg)(),(0,s.iD)("div",D,[(0,s._)("form",{onSubmit:r[5]||(r[5]=(0,i.iM)(((...o)=>n.enviarFormulario&&n.enviarFormulario(...o)),["prevent"]))},[(0,s._)("div",F,[(0,s._)("div",T,[(0,s._)("div",x,[(0,s._)("div",I,[$,(0,s.wy)((0,s._)("input",{ref:"name","onUpdate:modelValue":r[0]||(r[0]=o=>e.usuario.name=o),type:"text",class:(0,m.C_)(["form-control",{"is-invalid":e.procesando&&n.nameInvalido}]),onFocus:r[1]||(r[1]=(...o)=>n.resetEstado&&n.resetEstado(...o)),onKeypress:r[2]||(r[2]=(...o)=>n.resetEstado&&n.resetEstado(...o))},null,34),[[i.nr,e.usuario.name]])])]),(0,s._)("div",z,[(0,s._)("div",A,[N,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":r[3]||(r[3]=o=>e.usuario.email=o),type:"email",class:(0,m.C_)([{"is-invalid":e.procesando&&n.emailInvalido},"form-control"]),onFocus:r[4]||(r[4]=(...o)=>n.resetEstado&&n.resetEstado(...o))},null,34),[[i.nr,e.usuario.email]])])])]),P]),(0,s._)("div",S,[(0,s._)("div",q,[(0,s._)("div",Z,[e.error&&e.procesando?((0,s.wg)(),(0,s.iD)("div",J," Debes rellenar todos los campos! ")):(0,s.kq)("",!0),e.correcto?((0,s.wg)(),(0,s.iD)("div",K," El usuario ha sido agregado correctamente! ")):(0,s.kq)("",!0)])])])],32)])}var W={name:"formulario-usuario",data(){return{procesando:!1,correcto:!1,error:!1,usuario:{name:"",email:""}}},methods:{enviarFormulario(){this.procesando=!0,this.resetEstado(),this.nameInvalido||this.emailInvalido?this.error=!0:(this.$emit("crear-usuario",this.usuario),this.$refs.name.focus(),this.error=!1,this.correcto=!0,this.procesando=!1,this.usuario={name:"",email:""})},resetEstado(){this.correcto=!1,this.error=!1}},computed:{nameInvalido(){return this.usuario.name.length<1},emailInvalido(){return this.usuario.email.length<1}}};const G=(0,j.Z)(W,[["render",V]]);var H=G,L={name:"app",data(){return{usuarios:[]}},components:{TablaUsuarios:O,FormularioUsuario:H},methods:{async getUsuarios(){try{const o=await fetch("https://jsonplaceholder.typicode.com/users");this.usuarios=await o.json()}catch(o){console.log(o)}},async postUsuario(o){try{const r=await fetch("https://jsonplaceholder.typicode.com/users",{method:"POST",body:JSON.stringify(o),headers:{"Content-type":"application/json; charset=UTF-8"}}),a=await r.json();this.usuarios=[...this.usuarios,a]}catch(r){console.error(r)}},async putUsuario(o){try{const r=await fetch(`https://jsonplaceholder.typicode.com/users/${o.id}`,{method:"PUT",body:JSON.stringify(o),headers:{"content-type":"application/json; charset=UFT-8"}}),a=await r.json();this.usuarios=this.usuarios.map((r=>r.id===o.id?a:r))}catch(r){console.log(r)}},async deleteUsuario(o){try{await fetch(`https://jsonplaceholder.typicode.com/users/${o.id}`,{method:"DELETE"}),this.usuarios=this.usuarios.filter((r=>r.id!==o.id))}catch(r){console.log(r)}}},mounted(){this.getUsuarios()}};const M=(0,j.Z)(L,[["render",d]]);var Y=M;(0,i.ri)(Y).mount("#app")}},r={};function a(i){var s=r[i];if(void 0!==s)return s.exports;var t=r[i]={exports:{}};return o[i](t,t.exports,a),t.exports}a.m=o,function(){var o=[];a.O=function(r,i,s,t){if(!i){var e=1/0;for(c=0;c<o.length;c++){i=o[c][0],s=o[c][1],t=o[c][2];for(var n=!0,u=0;u<i.length;u++)(!1&t||e>=t)&&Object.keys(a.O).every((function(o){return a.O[o](i[u])}))?i.splice(u--,1):(n=!1,t<e&&(e=t));if(n){o.splice(c--,1);var l=s();void 0!==l&&(r=l)}}return r}t=t||0;for(var c=o.length;c>0&&o[c-1][2]>t;c--)o[c]=o[c-1];o[c]=[i,s,t]}}(),function(){a.d=function(o,r){for(var i in r)a.o(r,i)&&!a.o(o,i)&&Object.defineProperty(o,i,{enumerable:!0,get:r[i]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(o){if("object"===typeof window)return window}}()}(),function(){a.o=function(o,r){return Object.prototype.hasOwnProperty.call(o,r)}}(),function(){var o={143:0};a.O.j=function(r){return 0===o[r]};var r=function(r,i){var s,t,e=i[0],n=i[1],u=i[2],l=0;if(e.some((function(r){return 0!==o[r]}))){for(s in n)a.o(n,s)&&(a.m[s]=n[s]);if(u)var c=u(a)}for(r&&r(i);l<e.length;l++)t=e[l],a.o(o,t)&&o[t]&&o[t][0](),o[t]=0;return a.O(c)},i=self["webpackChunkpractica_9b"]=self["webpackChunkpractica_9b"]||[];i.forEach(r.bind(null,0)),i.push=r.bind(null,i.push.bind(i))}();var i=a.O(void 0,[998],(function(){return a(952)}));i=a.O(i)})();
//# sourceMappingURL=app.0918646e.js.map